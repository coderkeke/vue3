import"./PlusOutlined-Bo95f7KH.js";import"./useState-DIKhPmwo.js";import{t as e}from"./DynamicForm-uMartnT8.js";import"./select-CC1ZklT2.js";import"./vnode-DGJKgt6h.js";import"./style-CMMP8PqQ.js";import"./wave-DTKiIBeV.js";import"./useRefs-DpNy2-fv.js";import{t}from"./card-C67QZlfo.js";import"./Col-Czvnh7xb.js";import{t as n}from"./button-CE79zmeX.js";import"./slider-DfcFv3gR.js";import"./DownloadOutlined-C-tHFd-P.js";import"./useFlexGapSupport-gkIuc-8z.js";import"./switch-BoSjhwDX.js";import{$t as r,Nn as i,Wn as a,Xn as o,Yn as s,_n as c,bn as l,en as u,n as d,o as f,qn as p,rr as m,vn as h,yn as g}from"./index-IbQU_uUx.js";import{t as _}from"./_plugin-vue_export-helper-t17CR7cw.js";import"./DynamicForm-B9jY9TnE.js";var v={class:`login-container`},y=_(l({__name:`UserLogin`,setup(l){let _=u(),y=r(),b=d(),x=o(!1),S=o(),C=s({username:``,password:``}),w=[{field:`username`,label:`用户名`,component:`Input`,rules:[{required:!0,message:`请输入用户名`}],componentProps:{placeholder:`请输入用户名`,allowClear:!0}},{field:`password`,label:`密码`,component:`Password`,rules:[{required:!0,message:`请输入密码`}],componentProps:{placeholder:`请输入密码`,allowClear:!0}},{field:`action`,label:` `,slot:`action`,colProps:{span:24}}],T=async()=>{try{await S.value.validate(),x.value=!0,await b.login(C),f.success(`登录成功`);let{redirect:e}=y.query;_.push(e||`/`)}catch(e){console.error(`Login failed:`,e)}finally{x.value=!1}};return(r,o)=>{let s=n,l=t;return i(),c(`div`,v,[g(l,{title:`系统登录`,class:`login-card`},{default:a(()=>[g(m(e),{ref_key:`dynamicFormRef`,ref:S,model:m(C),"onUpdate:model":o[0]||=e=>p(C)?C.value=e:C=e,schemas:w,layout:`vertical`},{action:a(()=>[g(s,{type:`primary`,block:``,loading:x.value,size:`large`,onClick:T},{default:a(()=>[...o[1]||=[h(` 登录 `,-1)]]),_:1},8,[`loading`])]),_:1},8,[`model`])]),_:1})])}}}),[[`__scopeId`,`data-v-5dd02ab0`]]);export{y as default};